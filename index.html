<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro AI Camera</title>

<style>
body{
margin:0;
background:black;
color:white;
font-family:Arial, sans-serif;
overflow:hidden;
}

video, canvas{
position:absolute;
width:100%;
height:100%;
object-fit:cover;
}

#controls{
position:absolute;
bottom:20px;
width:100%;
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:12px;
}

.button{
width:80px;
text-align:center;
cursor:pointer;
}

.icon{
width:60px;
height:60px;
border-radius:50%;
border:2px solid white;
display:flex;
align-items:center;
justify-content:center;
font-size:28px;
margin:auto;
position:relative;
}

.label{
font-size:14px;
margin-top:5px;
}

.active .icon{
background:white;
color:black;
box-shadow:0 0 15px white;
}

.tick{
position:absolute;
top:-5px;
right:-5px;
background:white;
color:black;
border-radius:50%;
width:20px;
height:20px;
font-size:14px;
display:none;
align-items:center;
justify-content:center;
}

.active .tick{
display:flex;
}

#credit{
position:absolute;
bottom:0;
width:100%;
text-align:center;
font-style:italic;
font-size:14px;
}
</style>
</head>

<body>

<video id="video" autoplay playsinline></video>
<canvas id="canvas"></canvas>

<div id="controls">

<div class="button" onclick="toggleMode('auto', this)">
<div class="icon">ğŸ¤–<div class="tick">âœ“</div></div>
<div class="label">AI Auto</div>
</div>

<div class="button" onclick="toggleMode('portrait', this)">
<div class="icon">ğŸ¯<div class="tick">âœ“</div></div>
<div class="label">Portrait</div>
</div>

<div class="button" onclick="toggleMode('night', this)">
<div class="icon">ğŸŒ™<div class="tick">âœ“</div></div>
<div class="label">Night</div>
</div>

<div class="button" onclick="toggleMode('landscape', this)">
<div class="icon">ğŸŒ„<div class="tick">âœ“</div></div>
<div class="label">Landscape</div>
</div>

<div class="button" onclick="toggleMode('cinema', this)">
<div class="icon">ğŸ¨<div class="tick">âœ“</div></div>
<div class="label">Cinematic</div>
</div>

<div class="button" onclick="toggleMode('grid', this)">
<div class="icon">ğŸ“<div class="tick">âœ“</div></div>
<div class="label">Grid</div>
</div>

<div class="button" onclick="switchCamera()">
<div class="icon">ğŸ”</div>
<div class="label">Switch</div>
</div>

<div class="button" onclick="capture()">
<div class="icon">ğŸ“¸</div>
<div class="label">Capture</div>
</div>

</div>

<div id="credit">created by Animesh</div>

<script>
const video = document.getElementById('video');
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let modes = {
auto:false,
portrait:false,
night:false,
landscape:false,
cinema:false,
grid:false
};

let facing="environment";
let stream;

async function startCamera(){
stream = await navigator.mediaDevices.getUserMedia({video:{facingMode:facing}});
video.srcObject = stream;
}

function switchCamera(){
facing = facing==="environment"?"user":"environment";
stream.getTracks().forEach(t=>t.stop());
startCamera();
}

function toggleMode(mode, element){
if(mode==="auto"){
for(let m in modes){modes[m]=false;}
document.querySelectorAll('.button').forEach(b=>b.classList.remove('active'));
}

modes[mode] = !modes[mode];
element.classList.toggle("active");
}

function applyFilters(){
let filter="";

if(modes.auto){
filter="brightness(110%) contrast(115%) saturate(110%)";
}

if(modes.portrait){
filter+=" contrast(120%)";
}

if(modes.night){
filter+=" brightness(140%)";
}

if(modes.landscape){
filter+=" contrast(130%) saturate(120%)";
}

if(modes.cinema){
filter+=" sepia(25%) contrast(120%)";
}

ctx.filter=filter;
}

function drawGrid(){
ctx.strokeStyle="white";
ctx.lineWidth=1;
for(let i=1;i<3;i++){
ctx.beginPath();
ctx.moveTo(canvas.width/3*i,0);
ctx.lineTo(canvas.width/3*i,canvas.height);
ctx.stroke();

ctx.beginPath();
ctx.moveTo(0,canvas.height/3*i);
ctx.lineTo(canvas.width,canvas.height/3*i);
ctx.stroke();
}
}

function render(){
canvas.width=video.videoWidth;
canvas.height=video.videoHeight;

applyFilters();
ctx.drawImage(video,0,0);

if(modes.grid){
drawGrid();
}

requestAnimationFrame(render);
}

function capture(){
canvas.toBlob(blob=>{
const link=document.createElement("a");
link.href=URL.createObjectURL(blob);
link.download="photo.jpg";
link.click();
},"image/jpeg",0.95);
}

video.addEventListener("play", render);

startCamera();
</script>

</body>
</html>
